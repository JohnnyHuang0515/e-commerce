# é›»å•†ç³»çµ±æ¸¬è©¦è³‡æ–™æŒ‡å—

æœ¬ç›®éŒ„åŒ…å«é›»å•†ç³»çµ±æ‰€æœ‰è³‡æ–™åº«çš„æ“´å±•æ¸¬è©¦è³‡æ–™å’Œç”Ÿæˆè…³æœ¬ã€‚

## ğŸ“‹ æ¸¬è©¦è³‡æ–™æ¦‚è¦½

| è³‡æ–™åº« | æ¸¬è©¦è³‡æ–™æª”æ¡ˆ | ç‹€æ…‹ | èªªæ˜ |
|--------|-------------|------|------|
| **PostgreSQL** | `postgresql-test-data.sql` | âœ… | æ“´å±•ç”¨æˆ¶ã€å•†å“ã€è¨‚å–®ã€æ”¯ä»˜ç­‰è³‡æ–™ |
| **MongoDB** | `mongodb-test-data.js` | âœ… | æ“´å±•å•†å“è©³æƒ…ã€å‰ç«¯é…ç½®ã€æ—¥èªŒã€å®¢æœç´€éŒ„ |
| **Redis** | `redis-test-data.sh` | âœ… | æ“´å±•Sessionã€è³¼ç‰©è»Šã€å¿«å–ã€æ¨è–¦è³‡æ–™ |
| **MinIO** | `minio-test-data.sh` | âœ… | æ“´å±•å•†å“åœ–ç‰‡ã€ç”¨æˆ¶é ­åƒã€ç™¼ç¥¨ã€é€€è²¨è­‰æ˜ |
| **Milvus** | `milvus-test-data.py` | âœ… | æ“´å±•å•†å“å‘é‡ã€ç”¨æˆ¶å‘é‡ã€æœå°‹æ­·å² |
| **ClickHouse** | `clickhouse-test-data.sql` | âœ… | æ“´å±•ç”¨æˆ¶è¡Œç‚ºã€éŠ·å”®æ•¸æ“šã€å•†å“è¡¨ç¾åˆ†æ |
| **ç”Ÿæˆè…³æœ¬** | `generate-test-data.sh` | âœ… | è‡ªå‹•åŒ–ç”Ÿæˆæ‰€æœ‰æ¸¬è©¦è³‡æ–™ |

## ğŸš€ å¿«é€Ÿé–‹å§‹

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨è‡ªå‹•åŒ–è…³æœ¬ï¼ˆæ¨è–¦ï¼‰

```bash
# 1. ç¢ºä¿è³‡æ–™åº«æœå‹™æ­£åœ¨é‹è¡Œ
docker-compose up -d

# 2. ç­‰å¾…æœå‹™å®Œå…¨å•Ÿå‹•
sleep 30

# 3. åŸ·è¡Œè‡ªå‹•åŒ–ç”Ÿæˆè…³æœ¬
./generate-test-data.sh
```

### æ–¹æ³•äºŒï¼šå€‹åˆ¥ç”Ÿæˆæ¸¬è©¦è³‡æ–™

#### PostgreSQL
```bash
# é€£æ¥åˆ° PostgreSQL ä¸¦åŸ·è¡Œæ¸¬è©¦è³‡æ–™
docker-compose exec postgresql psql -U ecommerce_user -d ecommerce_db -f postgresql-test-data.sql
```

#### MongoDB
```bash
# é€£æ¥åˆ° MongoDB ä¸¦åŸ·è¡Œæ¸¬è©¦è³‡æ–™
docker-compose exec mongodb mongosh --file mongodb-test-data.js
```

#### Redis
```bash
# åŸ·è¡Œ Redis æ¸¬è©¦è³‡æ–™è…³æœ¬
docker-compose exec redis sh redis-test-data.sh
```

#### MinIO
```bash
# åŸ·è¡Œ MinIO æ¸¬è©¦è³‡æ–™è…³æœ¬
docker-compose exec minio sh minio-test-data.sh
```

#### Milvus
```bash
# åŸ·è¡Œ Milvus æ¸¬è©¦è³‡æ–™è…³æœ¬
docker-compose exec milvus-standalone python3 milvus-test-data.py
```

#### ClickHouse
```bash
# åŸ·è¡Œ ClickHouse æ¸¬è©¦è³‡æ–™è…³æœ¬
docker-compose exec clickhouse clickhouse-client --multiquery < clickhouse-test-data.sql
```

## ğŸ“Š æ¸¬è©¦è³‡æ–™è©³ç´°èªªæ˜

### PostgreSQL æ¸¬è©¦è³‡æ–™

**æ“´å±•å…§å®¹ï¼š**
- **ç”¨æˆ¶è³‡æ–™**: æ–°å¢10å€‹ç”¨æˆ¶ï¼ˆç¸½è¨ˆ13å€‹ï¼‰
- **å•†å“è³‡æ–™**: æ–°å¢20å€‹å•†å“ï¼ˆç¸½è¨ˆ25å€‹ï¼‰
- **åˆ†é¡è³‡æ–™**: æ–°å¢5å€‹ä¸»åˆ†é¡å’Œ13å€‹å­åˆ†é¡
- **è¨‚å–®è³‡æ–™**: æ–°å¢10å€‹è¨‚å–®å’Œå°æ‡‰çš„è¨‚å–®é …ç›®
- **æ”¯ä»˜è³‡æ–™**: æ–°å¢10å€‹æ”¯ä»˜è¨˜éŒ„
- **ç‰©æµè³‡æ–™**: æ–°å¢10å€‹ç‰©æµè¨˜éŒ„
- **å„ªæƒ åˆ¸**: æ–°å¢6å€‹å„ªæƒ åˆ¸
- **è©•è«–è³‡æ–™**: æ–°å¢10å€‹å•†å“è©•è«–
- **é¡˜æœ›æ¸…å–®**: æ–°å¢10å€‹ç”¨æˆ¶çš„é¡˜æœ›æ¸…å–®
- **é€€è²¨è³‡æ–™**: æ–°å¢3å€‹é€€è²¨ç”³è«‹
- **ç”¨æˆ¶è¡Œç‚º**: æ–°å¢10å€‹ç”¨æˆ¶è¡Œç‚ºäº‹ä»¶
- **AIè³‡æ–™**: æ–°å¢ç”¨æˆ¶ç‰¹å¾µã€å•†å“ç‰¹å¾µã€æ¨è–¦ã€é æ¸¬è³‡æ–™

**è³‡æ–™çµ±è¨ˆï¼š**
- ç”¨æˆ¶: 13å€‹
- å•†å“: 25å€‹
- åˆ†é¡: 18å€‹
- è¨‚å–®: 10å€‹
- æ”¯ä»˜: 10å€‹
- è©•è«–: 10å€‹

### MongoDB æ¸¬è©¦è³‡æ–™

**æ“´å±•å…§å®¹ï¼š**
- **å•†å“è©³æƒ…**: æ–°å¢5å€‹å•†å“è©³ç´°æè¿°
- **å‰ç«¯é…ç½®**: æ–°å¢2å€‹é é¢é…ç½®
- **ç³»çµ±æ—¥èªŒ**: æ–°å¢5å€‹ç³»çµ±æ—¥èªŒè¨˜éŒ„
- **å®¢æœç´€éŒ„**: æ–°å¢3å€‹å®¢æœå°è©±è¨˜éŒ„

**è³‡æ–™çµ±è¨ˆï¼š**
- å•†å“è©³æƒ…: 8å€‹
- å‰ç«¯é…ç½®: 3å€‹
- ç³»çµ±æ—¥èªŒ: 8å€‹
- å®¢æœç´€éŒ„: 5å€‹

### Redis æ¸¬è©¦è³‡æ–™

**æ“´å±•å…§å®¹ï¼š**
- **Sessionç®¡ç†**: æ–°å¢3å€‹ç”¨æˆ¶Session
- **JWT Token**: æ–°å¢3å€‹JWT Token
- **è³¼ç‰©è»Š**: æ–°å¢3å€‹è³¼ç‰©è»Š
- **ç†±é–€å•†å“**: æ–°å¢3å€‹åˆ†é¡çš„ç†±é–€å•†å“
- **åº«å­˜å¿«å–**: æ–°å¢5å€‹å•†å“åº«å­˜
- **ç”¨æˆ¶è¡Œç‚º**: æ–°å¢3å€‹ç”¨æˆ¶ç€è¦½æ­·å²
- **ç³»çµ±é…ç½®**: æ–°å¢è¡ŒéŠ·é…ç½®
- **é™æµå®‰å…¨**: æ–°å¢APIé™æµå’Œç™»å…¥å¤±æ•—è¨ˆæ•¸
- **æ¨è–¦ç³»çµ±**: æ–°å¢ç”¨æˆ¶æ¨è–¦å’Œå•†å“ç›¸ä¼¼åº¦

**è³‡æ–™çµ±è¨ˆï¼š**
- Session: 6å€‹
- è³¼ç‰©è»Š: 6å€‹
- ç†±é–€å•†å“: 6å€‹åˆ†é¡
- åº«å­˜å¿«å–: 10å€‹å•†å“
- æ¨è–¦è³‡æ–™: 6å€‹ç”¨æˆ¶

### MinIO æ¸¬è©¦è³‡æ–™

**æ“´å±•å…§å®¹ï¼š**
- **å•†å“åœ–ç‰‡**: æ–°å¢5å€‹å•†å“çš„åœ–ç‰‡ï¼ˆä¸»åœ–ã€åœ–åº«ã€ç¸®åœ–ï¼‰
- **ç”¨æˆ¶é ­åƒ**: æ–°å¢5å€‹ç”¨æˆ¶é ­åƒ
- **è¨‚å–®ç™¼ç¥¨**: æ–°å¢5å€‹ç™¼ç¥¨PDF
- **é€€è²¨è­‰æ˜**: æ–°å¢4å€‹é€€è²¨è­‰æ˜åœ–ç‰‡
- **ç³»çµ±è³‡æº**: æ–°å¢æ©«å¹…ã€åˆ†é¡ã€ä¿ƒéŠ·åœ–ç‰‡
- **å•†å“å½±ç‰‡**: æ–°å¢5å€‹å•†å“æ¼”ç¤ºå½±ç‰‡

**è³‡æ–™çµ±è¨ˆï¼š**
- å•†å“åœ–ç‰‡: 25å€‹æª”æ¡ˆ
- ç”¨æˆ¶é ­åƒ: 5å€‹æª”æ¡ˆ
- ç™¼ç¥¨: 5å€‹æª”æ¡ˆ
- é€€è²¨è­‰æ˜: 4å€‹æª”æ¡ˆ
- ç³»çµ±è³‡æº: 10å€‹æª”æ¡ˆ
- å•†å“å½±ç‰‡: 5å€‹æª”æ¡ˆ

### Milvus æ¸¬è©¦è³‡æ–™

**æ“´å±•å…§å®¹ï¼š**
- **å•†å“å‘é‡**: æ–°å¢20å€‹å•†å“å‘é‡
- **ç”¨æˆ¶å‘é‡**: æ–°å¢10å€‹ç”¨æˆ¶å‘é‡
- **æœå°‹æ­·å²**: æ–°å¢20å€‹æœå°‹è¨˜éŒ„
- **æ¨è–¦çµæœ**: æ–°å¢30å€‹æ¨è–¦è¨˜éŒ„
- **ç”¨æˆ¶è¡Œç‚º**: æ–°å¢ç”¨æˆ¶è¡Œç‚ºé›†åˆå’Œ30å€‹è¡Œç‚ºè¨˜éŒ„
- **å•†å“ç›¸ä¼¼åº¦**: æ–°å¢å•†å“ç›¸ä¼¼åº¦é›†åˆå’Œ30å€‹ç›¸ä¼¼åº¦è¨˜éŒ„

**è³‡æ–™çµ±è¨ˆï¼š**
- å•†å“å‘é‡: 25å€‹
- ç”¨æˆ¶å‘é‡: 13å€‹
- æœå°‹æ­·å²: 25å€‹
- æ¨è–¦çµæœ: 40å€‹
- ç”¨æˆ¶è¡Œç‚º: 30å€‹
- å•†å“ç›¸ä¼¼åº¦: 30å€‹

### ClickHouse æ¸¬è©¦è³‡æ–™

**æ“´å±•å…§å®¹ï¼š**
- **ç”¨æˆ¶è¡Œç‚ºäº‹ä»¶**: æ–°å¢20å€‹è¡Œç‚ºäº‹ä»¶
- **éŠ·å”®æ•¸æ“š**: æ–°å¢16å€‹éŠ·å”®è¨˜éŒ„
- **å•†å“è¡¨ç¾**: æ–°å¢15å€‹å•†å“è¡¨ç¾è¨˜éŒ„
- **ç”¨æˆ¶åˆ†æ**: æ–°å¢9å€‹ç”¨æˆ¶åˆ†æè¨˜éŒ„
- **è¡ŒéŠ·æ´»å‹•**: æ–°å¢5å€‹è¡ŒéŠ·æ´»å‹•
- **è¡ŒéŠ·æ•ˆæœ**: æ–°å¢10å€‹è¡ŒéŠ·æ•ˆæœè¨˜éŒ„
- **åº«å­˜åˆ†æ**: æ–°å¢15å€‹åº«å­˜åˆ†æè¨˜éŒ„
- **æ”¯ä»˜åˆ†æ**: æ–°å¢12å€‹æ”¯ä»˜åˆ†æè¨˜éŒ„
- **ç‰©æµåˆ†æ**: æ–°å¢14å€‹ç‰©æµåˆ†æè¨˜éŒ„
- **åˆ†æè¦–åœ–**: æ–°å¢3å€‹ç‰©åŒ–è¦–åœ–
- **åˆ†æå‡½æ•¸**: æ–°å¢3å€‹åˆ†æå‡½æ•¸

**è³‡æ–™çµ±è¨ˆï¼š**
- ç”¨æˆ¶è¡Œç‚ºäº‹ä»¶: 25å€‹
- éŠ·å”®æ•¸æ“š: 16å€‹
- å•†å“è¡¨ç¾: 15å€‹
- ç”¨æˆ¶åˆ†æ: 9å€‹
- è¡ŒéŠ·æ´»å‹•: 8å€‹

## ğŸ” é©—è­‰æ¸¬è©¦è³‡æ–™

### è‡ªå‹•é©—è­‰
```bash
# åŸ·è¡Œè‡ªå‹•åŒ–é©—è­‰
./generate-test-data.sh
```

### æ‰‹å‹•é©—è­‰

#### PostgreSQL
```bash
# æª¢æŸ¥ç”¨æˆ¶æ•¸é‡
docker-compose exec postgresql psql -U ecommerce_user -d ecommerce_db -c "SELECT COUNT(*) FROM users;"

# æª¢æŸ¥å•†å“æ•¸é‡
docker-compose exec postgresql psql -U ecommerce_user -d ecommerce_db -c "SELECT COUNT(*) FROM products;"

# æª¢æŸ¥è¨‚å–®æ•¸é‡
docker-compose exec postgresql psql -U ecommerce_user -d ecommerce_db -c "SELECT COUNT(*) FROM orders;"
```

#### MongoDB
```bash
# æª¢æŸ¥å•†å“è©³æƒ…æ•¸é‡
docker-compose exec mongodb mongosh --quiet --eval "db.products_detail.countDocuments()"

# æª¢æŸ¥ç³»çµ±æ—¥èªŒæ•¸é‡
docker-compose exec mongodb mongosh --quiet --eval "db.system_logs.countDocuments()"

# æª¢æŸ¥å®¢æœç´€éŒ„æ•¸é‡
docker-compose exec mongodb mongosh --quiet --eval "db.customer_service_records.countDocuments()"
```

#### Redis
```bash
# æª¢æŸ¥éµå€¼æ•¸é‡
docker-compose exec redis redis-cli DBSIZE

# æª¢æŸ¥Sessionæ•¸é‡
docker-compose exec redis redis-cli KEYS "session:*" | wc -l

# æª¢æŸ¥è³¼ç‰©è»Šæ•¸é‡
docker-compose exec redis redis-cli KEYS "cart:*" | wc -l
```

#### MinIO
```bash
# æª¢æŸ¥å•†å“åœ–ç‰‡
docker-compose exec minio mc ls ecommerce/ecommerce-storage/products/6/

# æª¢æŸ¥ç”¨æˆ¶é ­åƒ
docker-compose exec minio mc ls ecommerce/ecommerce-storage/users/4/avatars/

# æª¢æŸ¥ç™¼ç¥¨
docker-compose exec minio mc ls ecommerce/ecommerce-storage/orders/1004/invoices/
```

#### Milvus
```bash
# æª¢æŸ¥é›†åˆæ•¸é‡
docker-compose exec milvus-standalone python3 -c "
from pymilvus import connections, utility
connections.connect('default', host='localhost', port='19530')
print('é›†åˆæ•¸é‡:', len(utility.list_collections()))
"
```

#### ClickHouse
```bash
# æª¢æŸ¥ç”¨æˆ¶è¡Œç‚ºäº‹ä»¶æ•¸é‡
docker-compose exec clickhouse clickhouse-client --query "SELECT COUNT(*) FROM user_behavior_events"

# æª¢æŸ¥éŠ·å”®æ•¸æ“šæ•¸é‡
docker-compose exec clickhouse clickhouse-client --query "SELECT COUNT(*) FROM sales_data"

# æª¢æŸ¥å•†å“è¡¨ç¾æ•¸é‡
docker-compose exec clickhouse clickhouse-client --query "SELECT COUNT(*) FROM product_performance"
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

1. **æœå‹™æœªå•Ÿå‹•**
   ```bash
   # æª¢æŸ¥æœå‹™ç‹€æ…‹
   docker-compose ps
   
   # å•Ÿå‹•æœå‹™
   docker-compose up -d
   ```

2. **é€£ç·šå¤±æ•—**
   ```bash
   # æª¢æŸ¥æœå‹™æ—¥èªŒ
   docker-compose logs [service_name]
   
   # é‡æ–°å•Ÿå‹•æœå‹™
   docker-compose restart [service_name]
   ```

3. **æ¸¬è©¦è³‡æ–™ç”Ÿæˆå¤±æ•—**
   ```bash
   # æª¢æŸ¥è…³æœ¬æ¬Šé™
   chmod +x *.sh *.py
   
   # æ‰‹å‹•åŸ·è¡Œè…³æœ¬
   ./[script_name]
   ```

4. **è³‡æ–™é©—è­‰å¤±æ•—**
   ```bash
   # æª¢æŸ¥è³‡æ–™åº«é€£ç·š
   docker-compose exec [service] [connection_command]
   
   # æª¢æŸ¥è³‡æ–™æ˜¯å¦å­˜åœ¨
   docker-compose exec [service] [query_command]
   ```

### é‡ç½®æ¸¬è©¦è³‡æ–™

```bash
# åœæ­¢æ‰€æœ‰æœå‹™
docker-compose down

# åˆªé™¤æ‰€æœ‰è³‡æ–™å·
docker-compose down -v

# é‡æ–°å•Ÿå‹•æœå‹™
docker-compose up -d

# é‡æ–°ç”Ÿæˆæ¸¬è©¦è³‡æ–™
./generate-test-data.sh
```

## ğŸ“ é–‹ç™¼å»ºè­°

1. **é–‹ç™¼ç’°å¢ƒ**: ä½¿ç”¨è‡ªå‹•åŒ–è…³æœ¬å¿«é€Ÿç”Ÿæˆæ¸¬è©¦è³‡æ–™
2. **æ¸¬è©¦ç’°å¢ƒ**: æ ¹æ“šéœ€è¦é¸æ“‡æ€§ç”Ÿæˆç‰¹å®šè³‡æ–™åº«çš„æ¸¬è©¦è³‡æ–™
3. **ç”Ÿç”¢ç’°å¢ƒ**: ä¸è¦ä½¿ç”¨æ¸¬è©¦è³‡æ–™ï¼Œæ‡‰ä½¿ç”¨çœŸå¯¦è³‡æ–™

## ğŸ”„ æ›´æ–°èˆ‡ç¶­è­·

### æ·»åŠ æ–°æ¸¬è©¦è³‡æ–™
1. ç·¨è¼¯å°æ‡‰çš„æ¸¬è©¦è³‡æ–™æª”æ¡ˆ
2. æ›´æ–°ç”Ÿæˆè…³æœ¬
3. åŸ·è¡Œé©—è­‰æ¸¬è©¦

### å®šæœŸæ¸…ç†
```bash
# æ¸…ç†éæœŸæ¸¬è©¦è³‡æ–™
docker-compose exec redis redis-cli FLUSHDB
docker-compose exec mongodb mongosh --eval "db.dropDatabase()"
```

## ğŸ“ æ”¯æ´

å¦‚æœ‰å•é¡Œï¼Œè«‹æª¢æŸ¥ï¼š
1. æœå‹™æ—¥èªŒï¼š`docker-compose logs [service_name]`
2. ç¶²è·¯é€£æ¥ï¼šç¢ºä¿åŸ è™Ÿæœªè¢«å ç”¨
3. è³‡æºé™åˆ¶ï¼šç¢ºä¿æœ‰è¶³å¤ çš„è¨˜æ†¶é«”å’Œç£ç¢Ÿç©ºé–“
4. æ¬Šé™è¨­å®šï¼šæª¢æŸ¥æª”æ¡ˆæ¬Šé™å’Œä½¿ç”¨è€…æ¬Šé™
