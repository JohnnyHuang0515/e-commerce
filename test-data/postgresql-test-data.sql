-- PostgreSQL 電商系統測試資料
-- 擴展現有初始化腳本的測試資料

-- ==============================================
-- 擴展分類資料
-- ==============================================

-- 插入更多分類
INSERT INTO Categories (name, parent_id) VALUES 
('美妝保養', NULL),
('食品飲料', NULL),
('寵物用品', NULL),
('汽車用品', NULL),
('戶外運動', NULL);

-- 插入子分類
INSERT INTO Categories (name, parent_id) VALUES 
('護膚品', 6),
('彩妝', 6),
('香水', 6),
('零食', 7),
('飲料', 7),
('保健食品', 7),
('狗用品', 8),
('貓用品', 8),
('魚用品', 8),
('汽車配件', 9),
('汽車保養', 9),
('露營用品', 10),
('登山用品', 10);

-- ==============================================
-- 擴展商品資料
-- ==============================================

INSERT INTO Products (name, price, stock_quantity, status, category_id) VALUES 
-- 美妝保養
('SK-II 青春露', 4500.00, 30, 'active', 11),
('蘭蔻小黑瓶精華', 3200.00, 25, 'active', 11),
('雅詩蘭黛小棕瓶', 2800.00, 40, 'active', 11),
('MAC 口紅', 850.00, 100, 'active', 12),
('Dior 香水', 2200.00, 50, 'active', 13),

-- 食品飲料
('日本進口零食禮盒', 1200.00, 80, 'active', 14),
('台灣高山茶葉', 800.00, 60, 'active', 15),
('維他命C發泡錠', 450.00, 120, 'active', 16),

-- 寵物用品
('皇家狗糧', 1200.00, 200, 'active', 17),
('貓砂', 350.00, 150, 'active', 18),
('魚缸過濾器', 800.00, 50, 'active', 19),

-- 汽車用品
('汽車行車記錄器', 2500.00, 30, 'active', 20),
('汽車機油', 450.00, 100, 'active', 21),

-- 戶外運動
('登山背包', 1800.00, 40, 'active', 22),
('露營帳篷', 3500.00, 20, 'active', 23);

-- ==============================================
-- 擴展用戶資料
-- ==============================================

INSERT INTO Users (name, email, password_hash, phone, status) VALUES 
('陳小明', 'chen.xiaoming@example.com', '$2b$10$example_hash_4', '0911111111', 'active'),
('林小華', 'lin.xiaohua@example.com', '$2b$10$example_hash_5', '0922222222', 'active'),
('王小美', 'wang.xiaomei@example.com', '$2b$10$example_hash_6', '0933333333', 'active'),
('李小強', 'li.xiaoqiang@example.com', '$2b$10$example_hash_7', '0944444444', 'active'),
('張小芳', 'zhang.xiaofang@example.com', '$2b$10$example_hash_8', '0955555555', 'active'),
('劉小軍', 'liu.xiaojun@example.com', '$2b$10$example_hash_9', '0966666666', 'active'),
('黃小玲', 'huang.xiaoling@example.com', '$2b$10$example_hash_10', '0977777777', 'active'),
('吳小偉', 'wu.xiaowei@example.com', '$2b$10$example_hash_11', '0988888888', 'active'),
('鄭小婷', 'zheng.xiaoting@example.com', '$2b$10$example_hash_12', '0999999999', 'active'),
('許小傑', 'xu.xiaojie@example.com', '$2b$10$example_hash_13', '0900000000', 'active');

-- ==============================================
-- 擴展地址資料
-- ==============================================

INSERT INTO User_Address (user_id, recipient_name, address_line, city, postal_code, country, is_default) VALUES 
(4, '陳小明', '台北市大安區信義路四段1號', '台北市', '106', '台灣', true),
(5, '林小華', '新北市板橋區文化路二段182號', '新北市', '220', '台灣', true),
(6, '王小美', '台中市西區台灣大道二段285號', '台中市', '403', '台灣', true),
(7, '李小強', '高雄市左營區博愛二路777號', '高雄市', '813', '台灣', true),
(8, '張小芳', '台南市東區民族路二段76號', '台南市', '701', '台灣', true),
(9, '劉小軍', '桃園市中壢區中正路120號', '桃園市', '320', '台灣', true),
(10, '黃小玲', '新竹市東區光復路二段101號', '新竹市', '300', '台灣', true),
(11, '吳小偉', '基隆市仁愛區愛三路49號', '基隆市', '200', '台灣', true),
(12, '鄭小婷', '嘉義市西區民族路456號', '嘉義市', '600', '台灣', true),
(13, '許小傑', '宜蘭縣宜蘭市中山路三段1號', '宜蘭縣', '260', '台灣', true);

-- ==============================================
-- 擴展購物車資料
-- ==============================================

INSERT INTO Cart (user_id) VALUES 
(4), (5), (6), (7), (8), (9), (10), (11), (12), (13);

INSERT INTO Cart_Items (cart_id, product_id, quantity) VALUES 
(4, 6, 1), (4, 7, 2),
(5, 8, 1), (5, 9, 1),
(6, 10, 3), (6, 11, 1),
(7, 12, 2), (7, 13, 1),
(8, 14, 1), (8, 15, 2),
(9, 16, 1), (9, 17, 1),
(10, 18, 2), (10, 19, 1),
(11, 20, 1), (11, 21, 1),
(12, 22, 1), (12, 23, 1),
(13, 24, 1), (13, 25, 1);

-- ==============================================
-- 擴展訂單資料
-- ==============================================

INSERT INTO Orders (user_id, order_status, total_amount, shipping_address) VALUES 
(1, 'delivered', 1998.00, '台北市信義區信義路五段7號'),
(2, 'shipped', 1999.00, '新北市板橋區文化路一段188號'),
(3, 'paid', 498.00, '高雄市左營區博愛二路777號'),
(4, 'pending', 4500.00, '台北市大安區信義路四段1號'),
(5, 'paid', 3200.00, '新北市板橋區文化路二段182號'),
(6, 'shipped', 850.00, '台中市西區台灣大道二段285號'),
(7, 'delivered', 1200.00, '高雄市左營區博愛二路777號'),
(8, 'paid', 800.00, '台南市東區民族路二段76號'),
(9, 'shipped', 1200.00, '桃園市中壢區中正路120號'),
(10, 'delivered', 2500.00, '新竹市東區光復路二段101號');

INSERT INTO Order_Items (order_id, product_id, product_name, unit_price, quantity, subtotal) VALUES 
(1, 1, 'iPhone 15 Pro', 999.00, 2, 1998.00),
(2, 2, 'MacBook Pro M3', 1999.00, 1, 1999.00),
(3, 3, 'AirPods Pro', 249.00, 2, 498.00),
(4, 6, 'SK-II 青春露', 4500.00, 1, 4500.00),
(5, 7, '蘭蔻小黑瓶精華', 3200.00, 1, 3200.00),
(6, 9, 'MAC 口紅', 850.00, 1, 850.00),
(7, 11, '日本進口零食禮盒', 1200.00, 1, 1200.00),
(8, 12, '台灣高山茶葉', 800.00, 1, 800.00),
(9, 14, '皇家狗糧', 1200.00, 1, 1200.00),
(10, 18, '汽車行車記錄器', 2500.00, 1, 2500.00);

-- ==============================================
-- 擴展支付資料
-- ==============================================

INSERT INTO Payments (order_id, payment_method, amount, payment_status, paid_at) VALUES 
(1, 'credit_card', 1998.00, 'success', '2024-01-01 10:30:00'),
(2, 'credit_card', 1999.00, 'success', '2024-01-01 11:00:00'),
(3, 'bank_transfer', 498.00, 'success', '2024-01-01 12:00:00'),
(4, 'credit_card', 4500.00, 'pending', NULL),
(5, 'credit_card', 3200.00, 'success', '2024-01-02 09:00:00'),
(6, 'convenience_store', 850.00, 'success', '2024-01-02 10:00:00'),
(7, 'credit_card', 1200.00, 'success', '2024-01-02 11:00:00'),
(8, 'bank_transfer', 800.00, 'success', '2024-01-02 12:00:00'),
(9, 'credit_card', 1200.00, 'success', '2024-01-03 09:00:00'),
(10, 'credit_card', 2500.00, 'success', '2024-01-03 10:00:00');

-- ==============================================
-- 擴展物流資料
-- ==============================================

INSERT INTO Shipments (order_id, carrier, tracking_number, shipped_at, delivered_at) VALUES 
(1, 'post_office', 'TW123456789', '2024-01-01 14:00:00', '2024-01-02 10:00:00'),
(2, 'convenience_store', 'CS987654321', '2024-01-01 15:00:00', NULL),
(3, 'home_delivery', 'HD456789123', '2024-01-01 16:00:00', '2024-01-02 14:00:00'),
(4, 'post_office', NULL, NULL, NULL),
(5, 'convenience_store', 'CS111222333', '2024-01-02 10:00:00', NULL),
(6, 'home_delivery', 'HD444555666', '2024-01-02 11:00:00', NULL),
(7, 'post_office', 'TW777888999', '2024-01-02 12:00:00', '2024-01-03 09:00:00'),
(8, 'bank_transfer', 'BT000111222', '2024-01-02 13:00:00', '2024-01-03 10:00:00'),
(9, 'convenience_store', 'CS333444555', '2024-01-03 10:00:00', NULL),
(10, 'home_delivery', 'HD666777888', '2024-01-03 11:00:00', '2024-01-04 09:00:00');

-- ==============================================
-- 擴展優惠券資料
-- ==============================================

INSERT INTO Coupons (code, discount_percent, valid_from, valid_to) VALUES 
('NEWUSER20', 20.00, '2024-01-01', '2024-01-31'),
('BEAUTY15', 15.00, '2024-01-01', '2024-02-29'),
('FOOD10', 10.00, '2024-01-01', '2024-03-31'),
('PET25', 25.00, '2024-01-01', '2024-04-30'),
('CAR20', 20.00, '2024-01-01', '2024-05-31'),
('OUTDOOR30', 30.00, '2024-01-01', '2024-06-30');

-- ==============================================
-- 擴展評論資料
-- ==============================================

INSERT INTO Reviews (product_id, user_id, rating, comment) VALUES 
(1, 1, 5, 'iPhone 15 Pro 真的很棒，拍照效果超好！'),
(1, 2, 4, '性能很好，但價格有點貴'),
(2, 1, 5, 'MacBook Pro M3 效能驚人，推薦！'),
(2, 3, 5, '筆電很輕薄，攜帶方便'),
(3, 2, 4, 'AirPods Pro 降噪效果不錯'),
(3, 3, 5, '音質很好，值得購買'),
(6, 4, 5, 'SK-II 青春露效果很好，皮膚變好了'),
(7, 5, 4, '蘭蔻小黑瓶精華質地很好'),
(9, 6, 5, 'MAC 口紅色澤飽滿，很喜歡'),
(11, 7, 4, '日本零食很精緻，包裝漂亮');

-- ==============================================
-- 擴展願望清單資料
-- ==============================================

INSERT INTO Wishlist (user_id) VALUES 
(4), (5), (6), (7), (8), (9), (10), (11), (12), (13);

INSERT INTO Wishlist_Items (wishlist_id, product_id) VALUES 
(4, 6), (4, 7), (4, 8),
(5, 9), (5, 10), (5, 11),
(6, 12), (6, 13), (6, 14),
(7, 15), (7, 16), (7, 17),
(8, 18), (8, 19), (8, 20),
(9, 21), (9, 22), (9, 23),
(10, 24), (10, 25), (10, 6),
(11, 7), (11, 8), (11, 9),
(12, 10), (12, 11), (12, 12),
(13, 13), (13, 14), (13, 15);

-- ==============================================
-- 擴展退貨資料
-- ==============================================

INSERT INTO Return_Requests (order_id, user_id, status, reason) VALUES 
(1, 1, 'completed', '商品有瑕疵'),
(3, 3, 'approved', '尺寸不合'),
(7, 7, 'pending', '商品與描述不符');

INSERT INTO Return_Items (return_id, order_item_id, quantity, refund_amount) VALUES 
(1, 1, 1, 999.00),
(2, 3, 1, 249.00),
(3, 7, 1, 1200.00);

INSERT INTO Refunds (return_id, payment_id, amount, refund_status, processed_at) VALUES 
(1, 1, 999.00, 'success', '2024-01-03 10:00:00'),
(2, 3, 249.00, 'success', '2024-01-03 11:00:00'),
(3, 7, 1200.00, 'pending', NULL);

-- ==============================================
-- 擴展用戶行為事件資料
-- ==============================================

INSERT INTO User_Events (user_id, product_id, event_type, metadata, created_at) VALUES 
(1, 1, 'view', '{"page_title": "iPhone 15 Pro", "duration": 120}', '2024-01-01 10:00:00'),
(1, 1, 'click', '{"button": "add_to_cart", "position": "top"}', '2024-01-01 10:02:00'),
(1, 1, 'add_to_cart', '{"quantity": 2}', '2024-01-01 10:05:00'),
(2, 2, 'view', '{"page_title": "MacBook Pro M3", "duration": 180}', '2024-01-01 11:00:00'),
(2, 2, 'purchase', '{"order_id": 1002}', '2024-01-01 11:03:00'),
(3, 3, 'search', '{"query": "AirPods", "results_count": 5}', '2024-01-01 12:00:00'),
(3, 3, 'view', '{"page_title": "AirPods Pro", "duration": 90}', '2024-01-01 12:01:00'),
(4, 6, 'view', '{"page_title": "SK-II 青春露", "duration": 200}', '2024-01-02 09:00:00'),
(4, 6, 'wishlist_add', '{"source": "product_page"}', '2024-01-02 09:05:00'),
(5, 7, 'view', '{"page_title": "蘭蔻小黑瓶精華", "duration": 150}', '2024-01-02 10:00:00');

-- ==============================================
-- 擴展用戶特徵資料
-- ==============================================

INSERT INTO User_Features (user_id, age_group, gender, avg_order_value, purchase_frequency, last_active_at, embedding_vector) VALUES 
(1, '25-34', 'M', 1998.00, 2.5, '2024-01-01 10:30:00', '[0.1, 0.2, 0.3, 0.4, 0.5]'),
(2, '25-34', 'F', 1999.00, 3.0, '2024-01-01 11:00:00', '[0.2, 0.3, 0.4, 0.5, 0.6]'),
(3, '18-24', 'M', 498.00, 1.5, '2024-01-01 12:00:00', '[0.3, 0.4, 0.5, 0.6, 0.7]'),
(4, '35-44', 'F', 4500.00, 4.0, '2024-01-02 09:00:00', '[0.4, 0.5, 0.6, 0.7, 0.8]'),
(5, '25-34', 'F', 3200.00, 3.5, '2024-01-02 10:00:00', '[0.5, 0.6, 0.7, 0.8, 0.9]');

-- ==============================================
-- 擴展商品特徵資料
-- ==============================================

INSERT INTO Product_Features (product_id, category_id, price, popularity_score, embedding_vector) VALUES 
(1, 1, 999.00, 0.95, '[0.1, 0.2, 0.3, 0.4, 0.5]'),
(2, 1, 1999.00, 0.87, '[0.2, 0.3, 0.4, 0.5, 0.6]'),
(3, 1, 249.00, 0.92, '[0.3, 0.4, 0.5, 0.6, 0.7]'),
(6, 6, 4500.00, 0.78, '[0.4, 0.5, 0.6, 0.7, 0.8]'),
(7, 6, 3200.00, 0.82, '[0.5, 0.6, 0.7, 0.8, 0.9]');

-- ==============================================
-- 擴展推薦資料
-- ==============================================

INSERT INTO Recommendations (user_id, product_id, score, model_version, created_at) VALUES 
(1, 2, 0.95, 'collaborative_filtering_v1', '2024-01-01 10:00:00'),
(1, 3, 0.87, 'collaborative_filtering_v1', '2024-01-01 10:00:00'),
(2, 1, 0.91, 'content_based_v1', '2024-01-01 11:00:00'),
(2, 3, 0.78, 'content_based_v1', '2024-01-01 11:00:00'),
(3, 1, 0.88, 'hybrid_v1', '2024-01-01 12:00:00'),
(3, 2, 0.79, 'hybrid_v1', '2024-01-01 12:00:00'),
(4, 7, 0.85, 'collaborative_filtering_v1', '2024-01-02 09:00:00'),
(4, 8, 0.82, 'collaborative_filtering_v1', '2024-01-02 09:00:00'),
(5, 6, 0.89, 'content_based_v1', '2024-01-02 10:00:00'),
(5, 9, 0.76, 'content_based_v1', '2024-01-02 10:00:00');

-- ==============================================
-- 擴展預測資料
-- ==============================================

INSERT INTO Predictions (user_id, prediction_type, value, model_version, created_at) VALUES 
(1, 'churn', 0.15, 'churn_model_v1', '2024-01-01 10:00:00'),
(1, 'LTV', 5000.00, 'ltv_model_v1', '2024-01-01 10:00:00'),
(2, 'churn', 0.08, 'churn_model_v1', '2024-01-01 11:00:00'),
(2, 'LTV', 8000.00, 'ltv_model_v1', '2024-01-01 11:00:00'),
(3, 'churn', 0.25, 'churn_model_v1', '2024-01-01 12:00:00'),
(3, 'LTV', 2000.00, 'ltv_model_v1', '2024-01-01 12:00:00'),
(4, 'demand', 0.85, 'demand_model_v1', '2024-01-02 09:00:00'),
(5, 'price_sensitivity', 0.65, 'price_model_v1', '2024-01-02 10:00:00');

-- 完成測試資料插入
SELECT 'PostgreSQL 測試資料插入完成！' as message;
SELECT '已插入擴展的測試資料' as status;
